{{>header}}

<div style="max-width: 800px; margin: 40px auto; font-family: sans-serif;">
    <h2 style="text-align: center;">ğŸ“ {{post.title}}</h2>

    <div style="background: #f4f4f4; padding: 15px; border-radius: 8px; position: relative;">
        <p>{{post.content}}</p>
        <p style="color: #555; font-size: 14px;">
            ì‘ì„±ì: {{post.author}} | ì‘ì„±ì¼: {{post.createdAt}}
        </p>

        <!-- âœ ê²Œì‹œê¸€ ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ -->
        {{#isAuthor}}
            <div style="position: absolute; top: 15px; right: 15px; display: flex; gap: 10px;">
                <form action="/community/{{post.id}}/edit" method="get">
                    <button type="submit" style="background:#f1c40f; border:none; color:white; padding:5px 10px; border-radius:5px; cursor:pointer;">
                        âœ ìˆ˜ì •
                    </button>
                </form>
                <form action="/community/{{post.id}}/delete" method="post" onsubmit="return confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?');">
                    <button type="submit" style="background:#e74c3c; border:none; color:white; padding:5px 10px; border-radius:5px; cursor:pointer;">
                        ğŸ—‘ ì‚­ì œ
                    </button>
                </form>
            </div>
        {{/isAuthor}}
    </div>

    <!-- ğŸ’¬ ëŒ“ê¸€ ëª©ë¡ -->
    <div style="margin-top: 40px;">
        <h3>ğŸ’¬ ëŒ“ê¸€</h3>
        {{#comments}}
            <div style="padding: 10px; border-bottom: 1px solid #ddd;">
                <strong>{{author}}</strong><br>
                <p style="margin: 5px 0;">{{content}}</p>
                <small style="color: #888;">{{createdAt}}</small>

                {{#isAuthor}}
                    <div style="margin-top: 5px; display: flex; gap: 10px;">
                        <!-- âœ ëŒ“ê¸€ ìˆ˜ì • -->
                        <a href="/comments/{{id}}/edit"
                           style="color: #3498db; font-size: 14px; text-decoration: none;">âœ ëŒ“ê¸€ ìˆ˜ì •</a>

                        <!-- ğŸ—‘ ëŒ“ê¸€ ì‚­ì œ -->
                        <form action="/comments/{{id}}/delete" method="post"
                              onsubmit="return confirm('ëŒ“ê¸€ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?');"
                              style="display: inline;">
                            {{#_csrf}}
                                <input type="hidden" name="_csrf" value="{{csrfToken}}">
                            {{/_csrf}}
                            <button type="submit"
                                    style="color: #e74c3c; background: none; border: none; font-size: 14px; cursor: pointer;">
                                ğŸ—‘ ëŒ“ê¸€ ì‚­ì œ
                            </button>
                        </form>
                    </div>
                {{/isAuthor}}
            </div>
        {{/comments}}

        {{^comments}}
            <p style="color: #777;">ì•„ì§ ëŒ“ê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</p>
        {{/comments}}
    </div>

    <!-- âœ ëŒ“ê¸€ ì‘ì„± í¼ -->
    <form action="/community/{{post.id}}/comments" method="post" style="margin-top: 20px;">
        <textarea name="content" placeholder="ëŒ“ê¸€ ë‚´ìš©" rows="3" required style="width: 100%; padding: 8px;"></textarea>
        <button type="submit" style="margin-top: 10px; background: #3498db; color: white; border: none; padding: 10px 15px; border-radius: 5px;">
            ëŒ“ê¸€ ë“±ë¡
        </button>
    </form>

    <!-- â† ëŒì•„ê°€ê¸° -->
    <div style="margin-top: 30px; text-align: center;">
        <a href="/community" style="text-decoration: none; color: #2980b9;">â† ê²Œì‹œíŒìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
    </div>
</div>

{{>footer}}
