{{>header}}

<div style="max-width: 800px; margin: 40px auto; font-family: sans-serif;">
    <h2 style="text-align: center;">📄 게시글 상세보기</h2>

    <!-- ✅ 게시글 정보 -->
    <div style="background: #f9f9f9; padding: 20px; border-radius: 8px; margin-bottom: 30px;">
        <h3 style="margin-top: 0;">{{post.title}}</h3>
        <p style="color: #666; font-size: 14px;">
            ✍ 작성자: {{post.author}} | 🕒 작성일: {{post.createdAt}}
        </p>
        <hr>
        <p style="white-space: pre-line;">{{post.content}}</p>
    </div>

    <!-- ✅ 댓글 목록 -->
    <div>
        <h4>🗨 댓글</h4>
        {{#comments}}
            <div style="background: #f0f0f0; padding: 10px; border-radius: 6px; margin-bottom: 10px;">
                <p style="margin: 0;"><strong>{{author}}</strong> | {{createdAt}}</p>
                <p style="margin-top: 5px;">{{content}}</p>
            </div>
        {{/comments}}

        {{^comments}}
            <p style="color: #999;">아직 댓글이 없습니다.</p>
        {{/comments}}
    </div>

    <!-- ✅ 댓글 작성 폼 -->
    <div style="margin-top: 30px;">
        <h4>✍ 댓글 작성</h4>
        <form action="/community/{{post.id}}/comments" method="post"
              style="display: flex; flex-direction: column; gap: 10px; margin-top: 10px;">
            <input type="text" name="author" placeholder="작성자 이름" required
                   style="padding: 10px; border: 1px solid #ccc; border-radius: 5px;">

            <textarea name="content" placeholder="댓글 내용을 입력하세요" rows="4" required
                      style="padding: 10px; border: 1px solid #ccc; border-radius: 5px;"></textarea>

            <button type="submit"
                    style="padding: 10px 15px; background-color: #2ecc71; color: white; border: none; border-radius: 5px; cursor: pointer;">
                💬 댓글 등록
            </button>
        </form>
    </div>

    <!-- ✅ 게시글 목록으로 돌아가기 -->
    <div style="margin-top: 30px; text-align: center;">
        <a href="/community" style="text-decoration: none; color: white; background: #3498db; padding: 10px 20px; border-radius: 6px;">
            ← 게시글 목록으로
        </a>
    </div>
</div>

{{>footer}}
